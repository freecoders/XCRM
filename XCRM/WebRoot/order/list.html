<script>
function contractnameformatter(value, row){
	if(value){
    return '<a href="/contract/view?id='+ row['contractid'] +'&orderno='+row['orderno']+'"  target="_blank" title="'+ value + '">'+value+'</a>';
	}else{
		return '';
	}
}

function paidformatter(value, row){
	  if(value == 0 || value == null){
	    return 0;
	  }else{
	    return value;
	  }
	}
	
function ordernoformatter(value, row){
    if(value){
      return '<a href="/orderview?orderno='+ row['orderno'] + '">'+value+'</a>';
    }else{
      return value;
    }
  }
  
function dueformatter(value, row){
		if(value == 0 || value == null){
		  return '<a href="/spayment?orderno='+ row['orderno'] + '">'+0+'</a>';
		}else{
		  return '<a href="/spayment?orderno='+ row['orderno'] + '">'+value+'</a>';
		}
  }
  
function opformatter(value, row){
	   if( row['status'] != 4 ){
		    return '<a href="/cancelorder?orderno='+ row['orderno'] + '">'+ '取消' +'</a> ' +
		    '<a href="/editorder?orderno='+ row['orderno'] + '">'+ '编辑' +'</a>';
	   }else{
		   return "";
	   }
}
  
function statusformatter(value, row){
	 if(value == 1){
	      return '已下订单';
	 }else if(value == 2){
	      return '已付定金';
	 }else if(value == 3){
	        return '已付全款';
   }else if(value == 4){
        return '已经取消';
   }
}
</script>
<th data-field="orderno" data-formatter="ordernoformatter"><b style="color:blue">订单号</b></th>
<th data-field="company"><b style="color:blue">客户名称</b></th>
<th data-field="name">购买产品名称</th>
<th data-field="num">产品数量</th>
<th data-field="price">产品原价</th>
<th data-field="dealprice">成交价格</th>
<th data-field="paid" data-formatter="paidformatter">实际支付</th>
<th data-field="due" data-formatter="dueformatter">欠款</th>
<th data-field="status" data-formatter="statusformatter">订单状态</th>
<th data-field="username">销售人员</th>
<th data-field="date">订单日期</th>
<th data-field="contractname" data-formatter="contractnameformatter" data-align="center">打印合同</th>
<th data-field="date" data-formatter="opformatter">操作</th>
