
<link rel="stylesheet" href="/css/fileinput.min.css">
<script src="/js/sortable.min.js"></script>
<script src="/js/fileinput.min.js"></script>
<script src="/js/zh.js"></script>

<div>
	<button id="changepic" type="button" style="display: none"
		class="btn btn-info btn-block">修改图片</button>
	<input id="file-Portrait" multiple="true" type="file"
		class="file-loading"> <input type="hidden" name="imgs"
		id="imgs">
</div>

<script>
	function createFileinput(obj){
		xcpage.fileinput = $('#file-Portrait').fileinput(obj);
	}
	
	function defaultFileinput(){
		return {
			language : "zh",
			uploadUrl : "/${model}/upload",
			uploadAsync : true,
			showUpload : true,
			showCaption : false,
			showRemove : true,
			overwriteInitial : false,
			previewSettings : {
				image : {
					height : "80px",
					width : "auto"
				}
			},
			msgFilesTooMany : "选择上传的文件数量({n}) 超过允许的最大数值{m}！",
			browseClass : "btn btn-primary",
			minFileCount : 0,
			maxFileCount : ${imgMaxCount},
			validateInitialCount : true,
			maxFileSize : 1000,
			maxFilesNum : 2,
			initialPreviewCount : 2,
			initialCaption : "请上传图片...",
			allowedFileExtensions : [ 'jpg', 'png', 'gif' ],
			overwriteInitial : true,
			initialPreviewFileType : 'image'
		};
	}
	
	function createEditfileinput(initialList,initialConfigList){
		var fileinput = defaultFileinput();
		fileinput['initialPreviewAsData']=true;
		fileinput['initialPreview']=initialList;
		fileinput['initialPreviewConfig']=initialConfigList;
		createFileinput(fileinput);
	}
</script>